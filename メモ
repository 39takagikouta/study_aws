1-2　システムをインフラから構築できるようになろう
インフラのメリット
1自身でサービスを作れる　paasは高い
2システム全体で対応できる　課題の切り分け、対応策

インフラ構築の考え方
1サーバー構成
サーバー＝サーバー用のosをインストールしたコンピューター
詳細は動画
2ネットワークの構成

1-4 インフラとは
・インフラとは
サーバーやネットワークのこと
・サーバーとは
クライアントに対してサービスを提供するコンピューター
機能が違うだけでどれもコンピュータ
・ネットワーク
複数のコンピューターを繋いでデータを送受信できるようにするもの
・クラウド（コンピューティング）
ネットワークを利用してコンピューターリソースを利用する形態のこと
具体的には、インフラをネットワーク経由で利用管理できる

写経→使ってみる

ルートユーザーはなんでもできる特権ユーザー　ミスったら終わり
アカウントに関わることの変更以外は、作業用のiamユーザーを使用する
権限を個別に変更できる　ログも確認できる

順序
ネットワークの構築VCP→サーバーの設置→必要なソフトウェアを導入
外から接続できる＝パブリックサブネット

2-2AWSのネットワークの概念
リージョン　サービスを使用するとき、まずこれを選択する
これごとにネットワークを設定し、サーバーを作っていく
リージョンによって使えるサービスが違う　アメリカが最新
東京がおすすめ

アベイラビリティゾーン
世界各国の複数のデータセンター群
各リージョンに複数ある　災害対策

VPC
AWS上に仮想ネットワークを作成できるサービス
AWSで作業時はまずこれを作る
リージョンの下で、アベイラビリティゾーンをまとめて設定する
この中をネットワークでさらに区切るのがサブネット
これは、VCPを細かく区切ったネットワーク
複数のゾーンにサーバーを置くことで冗長性を担保

ipアドレス　32ビット　8ビットずつ
10進数になっている
パブリックipアドレスとプライベートipアドレスがある
ネットワークを構築する際は、ipアドレスの範囲を決める
ネットワーク部とホスト部に区分けすることで範囲を表記
ホスト部はネットワーク内で任意で設定可能
範囲の表記法　1サイダー表記　2サブネットマスク表記

1vpcを作成
2サブネットを作成
vpcをサブネットに分割するメリット　1アベイラビリティゾーンを話すことで、災害対策　2セキュリティ上の理由で、データベースサーバーだけを隠せる
3ルーティングを設定
ipアドレス＝住所
ルーターが、ipアドレスがどのデバイスと繋がっているかを管理している
この設定をルーティングという　具体例の図は動画参照
ルーターのルートテーブルに保存されている
ルートテーブルには、宛先のIPアドレスと次のルーターがセットで保存されている
インターネットゲートウェイは、vpcとインターネットを繋ぐ仮想のルーター
サブネットを作り、それに対応するルートテーブルを設定したら、ルーターをawsがつくってくれる

18ネットワーク設計時に考慮すべきポイント
vpc設定ポイント
・vpcでは仮想のプライベートネットワーク空間を作成するので、プライベートipアドレスを使用した方がいい
・ipアドレスの範囲は後から変更できないので大きめに設定　16が推奨

vxpやアカウントの分割のコツ
・異なるシステムかどうかでアカウントを分けるかは判断
・同一システムの各環境（本番とか）は、vpcとアカウントのどちらを分ける？
アカウントを分けたらiamがだるい　分けなくていいけど、リージョンを分ける　そうしたら見やすい

サブネットの設計ポイント
・ipアドレス数を/24で区切るといい
・サブネットの分割は、ルーティングとアベイラビリティゾーンを基準に行う
サブネットに割り当てられるルートテーブルは一つ
インターネットアクセスの有無（今回の場合）、拠点アクセスの有無などのルーティングポリシーに応じて分割する
高可用性のため、二つ以上のアベイラビリティゾーンを使用する